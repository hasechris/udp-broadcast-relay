---
name: reuseable - check changes in repo

on:
  workflow_call:

jobs:
  filechange_detection:
    runs-on: ubuntu-latest
    container:
      image: alpine:latest
    outputs:
      changes_found_source: ${{ steps.filter.outputs.src }}
    steps:
      - run: apk add --no-cache git
      - uses: actions/checkout@v4
        fetch-depth: 2
      - run: ls -la
      - run: git checkout HEAD^
      - run: git config --global --add safe.directory $GITHUB_WORKSPACE
      - uses: dorny/paths-filter@v2
        id: changes
        with:
          filters: |
            src: 
              - 'main.c'